---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Software Developer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/jpeg" href="/sherif.jpeg" />
    <meta property="og:title" content="Sherif Ahmed" />
    <meta property="og:description" content="Software Developer" />
    <meta property="og:image" content="/sherif.jpeg" />
    <meta property="og:url" content="https://sherif Ahmed.vercel.app" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Sherif Portfolio" />
    
    <!-- Twitter Card meta tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Sherif Ahmed" />
    <meta name="twitter:description" content="Software Developer" />
    <meta name="twitter:image" content="/photo.png" />
    
    <!-- Additional branding meta tags -->
    <meta name="author" content="Sherif Ahmed" />
    <meta name="keywords" content="software developer, web development, portfolio, sherif" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      media="print"
      onload="this.media='all'"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      />
    </noscript>

    <title>Sherif Ahmed</title>
  </head>
  <body class="bg-[#101010] md:px-24 lg:px-20 px-4 transition-colors duration-300 relative">
    <div id="global-circles-bg" class="fixed inset-0 pointer-events-none -z-10 overflow-hidden"></div>
    <slot />
    <script is:inline>
    (function() {
      const container = document.getElementById('global-circles-bg');
      if (!container) return;
      
      const circles = [];
      const configs = [
        { 
          startX: -15, endX: 40, y: 15, size: 1000, 
          core: 'rgba(164, 118, 255, 0.2)',  // Reduced opacity
          aura: 'rgba(124, 58, 237, 0.1)',   // Reduced opacity
          speed: 0.12 
        },
        { 
          startX: 115, endX: 60, y: 70, size: 1100, 
          core: 'rgba(99, 102, 241, 0.2)', 
          aura: 'rgba(67, 56, 202, 0.08)', 
          speed: 0.18 
        }
      ];

      configs.forEach(cfg => {
        const div = document.createElement('div');
        div.style.position = 'absolute';
        div.style.width = `${cfg.size}px`;
        div.style.height = `${cfg.size}px`;
        div.style.left = `${cfg.startX}%`;
        div.style.top = `${cfg.y}%`;
        div.style.transform = 'translate(-50%, -50%)';
        div.style.borderRadius = '50%';
        // Multi-stop radial gradient for "layers" / core-aura effect
        div.style.background = `radial-gradient(circle, 
          ${cfg.core} 0%, 
          ${cfg.core} 10%, 
          ${cfg.aura} 40%, 
          transparent 80%)`;
        div.style.filter = 'blur(140px)';
        div.style.pointerEvents = 'none';
        
        container.appendChild(div);
        circles.push({ el: div, ...cfg });
      });

      window.addEventListener('scroll', () => {
        const scrolled = window.scrollY;
        const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
        const scrollFactor = scrolled / Math.max(maxScroll, 1);

        circles.forEach(c => {
          const currentX = c.startX + (c.endX - c.startX) * scrollFactor;
          const currentY = c.y - (scrolled * c.speed / window.innerHeight * 100);
          c.el.style.left = `${currentX}%`;
          c.el.style.top = `${currentY}%`;
        });
      }, { passive: true });

      // Scroll Reveal Observer
      const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('reveal-active');
            // Stop observing after it reveals to keep it smooth and simple
            revealObserver.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

      document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));
    })();
    </script>
  </body>
</html>

<style is:global>
  :root {
    --background: #101010;
    --sec: #a476ff;
    --white: #dfdfdf;
    --white-icon: #f3f3f398;
    --white-icon-tr: #f3f3f310;
    --component-bg: rgba(20, 20, 20, 0.6);
  }
  body {
    transition: background 0.3s, color 0.3s;
  }
  * {
    font-family:
      "montserrat",
      -apple-system,
      system-ui,
      sans-serif;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
  }
  *::selection {
    background-color: var(--sec);
    color: var(--background);
  }
  ::-webkit-scrollbar {
    width: 15px;
  }
  ::-webkit-scrollbar-track {
    background: var(--container);
    border-radius: 30px;
  }
  ::-webkit-scrollbar-thumb {
    background: var(--background);
    border-radius: 10px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: var(--pink);
  }
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--line) var(--container);
  }
  .global-circles-bg {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -10;
  }

  /* Reveal Animations */
  .reveal {
    opacity: 0;
    filter: blur(8px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
    will-change: transform, opacity, filter;
  }

  .reveal-up { transform: translateY(40px); }
  .reveal-down { transform: translateY(-40px); }
  .reveal-left { transform: translateX(-40px); }
  .reveal-right { transform: translateX(40px); }

  .reveal-active {
    opacity: 1;
    filter: blur(0);
    transform: translate(0, 0) !important;
  }

  /* Delays */
  .delay-100 { transition-delay: 100ms; }
  .delay-200 { transition-delay: 200ms; }
  .delay-300 { transition-delay: 300ms; }
  .delay-400 { transition-delay: 400ms; }
  .delay-500 { transition-delay: 500ms; }
</style>
